.MODEL SMALL
.STACK 1000H
.DATA
 ML1 		DB 13,10,'++++++++++WELCOME TO BTS TOURISM SYSTEM++++++++++$'
 ML2 		DB 13,10,'*************************************************$'
 ML3 		DB 13,10, '*    ________        ________       _________   *$'
 ML4 		DB 13,10, '*   |  ____  \      |__    __|     /         |  *$'
 ML5 		DB 13,10, '*   |  |___\  \        |  |       /      ____|  *$'
 ML6		DB 13,10, '*   |  ____   /        |  |       \          \  *$'
 ML7 		DB 13,10, '*   |  |   \  \        |  |        \____      \ *$'
 ML8 		DB 13,10, '*   |  |____\  \       |  |        /          / *$'
 ML9 		DB 13,10, '*   |__________/       |__|       /__________/  *$'
 ML10 		DB 13,10,'*************************************************$'
 USER1 		DB 13,10,13,10,"User sign in- PRESS 1$"
 USER2 		DB 13,10,"User sign up- PRESS 2$"
 USER3		DB 13,10,"Exit- PRESS 3$"
 SEL 		DB "PLEASE ENTER A SELECTION (1 to 3): $"
 TOPT 		DB ?
 INV 		DB "THE INPUT YOUR ENTERED IS INVALID! ONLY ENTER (1 to 3)$"
 TMSG1 		DB 13,10,13,10, '********** USER SIGN IN PAGE **********$'
 US1 		DB 13,10, "Enter username: $"
 PS1 		DB 13,10, "Enter password: $"   
 IPSW 		DB 8 DUP ('$')
 ACC 		DB 13,10,"ACCESS GRANTED!$"
 TERR 		DB "INVALID LOGIN!$"
 COUNT 		DB 0
 DEN 		DB "YOU TRIED TO SIGN-IN IS REACH TO MAX! CREATE AN ACCOUNT AGAIN AND TRY AGAIN. $"	
 TMSG2 		DB 13,10,13,10, '********** USER SIGN UP PAGE **********$'
 US2 		DB 13,10, "Please enter a new username (10 CHARACTERS ONLY): $"
 PS2 		DB 13,10, "Please enter a new password (8 CHARACTERS ONLY): $"
 UCOUNT 	DB 0
 SUSN 		DB "Username is created!$"
 LUSN 		DB "Your username must have be 10 characters! Please reenter: $"
 NPSW 		DB 8 DUP ('$')
 SCL 		DB "Your password was created!$"
 NSCL 		DB 13,10,"You must have atleast 4 creators!$"
 MSCL 		DB 13,10,"Your password has reach the maximum characters!$"
 MP 		DB "SUCCESSFUL SIGN-UP! REENTER YOUR CREDENTIALS AT THE SIGN-IN PAGE! $"
 ASK 		DB 13,10,"DO YOU WANT TO GO BACK MAIN PAGE? (Y,N):$"
 ASK1 		DB 0
 PER 		DB 13,10,13,10,"*************PERSONAL INFORMATION PAGE*************** $"
 WELMSG 	DB 13,10, "PLEASE ENTER THE INFORMATION NEEDED BEFORE CHOOSING YOUR PACKAGE!$"
 FULN 		DB 13,10, "FULL NAME (Without space): $"
 ICNUM 		DB 13,10, "IC NUMBER (Without '-'): $"
 PHNUM 		DB 13,10, "PHONE NUMBER (Without '-): $"
 CONFIRM 	DB 13,10,13,10,13,10, "DO YOU WANT TO CHANGE ANY INFORMATION IN THE ABOVE ? (Y OR N): $"
 CON 		DB 0
 CONFIRM1 	DB 13,10,13,10,13,10, "THANK YOU FOR THE INFORMATION!$"
 NOTNAME 	DB 13,10,"THE INPUT IS INVALID! $"
 ICN 		DB 12 DUP ('$')
 PNUM 		DB 10 DUP ('$')
 MENU		DB 13,10," "
		DB 13,10,"          WELCOME TO THE BTS SYSTEM       "
		DB 13,10,"============================================"	
		DB 13,10,"1. NORMAL PACKAGE "
		DB 13,10,"2. FAMILY PACKAGE [DISCOUNT 10%]"
		DB 13,10,"3. COUPLE PACKAGE [DISCOUNT 20%]"
		DB 13,10,"4. STATUS "
		DB 13,10,"5. QUIT "
		DB 13,10," $"
 NEWLINE	DB 13,10," $"
 INF		DB "***PLEASE EXIT AND LOGIN AGAIN TO MAKE A NEW PACKAGE,THANK YOU!!!$"
 NORMAL		DB 13,10," "
		DB 13,10,"        NORMAL PACKAGE"
 		DB 13,10,"-------------------------------"
		DB 13,10," $"
 FAMILY		DB 13,10," "
		DB 13,10,"        FAMILY PACKAGE"
 		DB 13,10,"-------------------------------"
		DB 13,10," $"
 COUPLE		DB 13,10," "
		DB 13,10,"        COUPLE PACKAGE"
 		DB 13,10,"-------------------------------"
		DB 13,10," $"
 MSG1		DB 13,10,"PRESS YOUR OPTION: $"
 MSG2		DB 13,10,"PLEASE ENTER THE NUMBER OF PEOPLE (MAX 8 PAX)  : $"
 MSG3		DB 13,10,"PLEASE ENTER THE NUMBER OF PEOPLE (2/4/6 PAX)  : $"
 NMSG		DB 13,10,"PLEASE ENTER THE NUMBER OF PEOPLE (3 TO 6 PAX) : $"
 MSG4		DB 13,10,"PLEASE ENTER THE DAYS (MAX 7 DAYS)             : $"
 MSG6		DB 13,10,"PLEASE ENTER THE DATE (DD/MM/YY)               : $"
 MSG7		DB 13,10,"PLEASE ENTER THE TIME (0000)                   : $"
 MSG8		DB 13,10," "
		DB 13,10,"THE TOTAL PAYMENT IS RM $"
 MSG9		DB " "
		DB 13,10,"(WARNING!!!IF YOU PRESS Y,YOU ARE NOT ABLE TO MAKE ANY CHANGE FOR YOUR DETAIL.)"
		DB 13,10,"PRESS Y TO CONTINUE OR PRESS N IF YOU HAVE ANY CHANGE: $"
 MSG10		DB 13,10,"PRESS Y TO CONTINUE OR PRESS N IF YOU HAVE ANY CHANGE: $"
 ERRORNUMBERMSG DB 13,10,"INVALID NUMBER.PLEASE ENTER AGAIN!!!$"
 ERRORDAYSMSG 	DB 13,10,"INVALID DAY.PLEASE ENTER AGAIN!!!$"
 ERRORTIMEMSG	DB 13,10,"ERROR!!!PLEASE RE-ENTER THE INFROM.$"
 ERRORMESSAGE1	DB "PLEASE ENTER 1 TO 5 ONLY."
		DB " $"
 ERRORMESSAGE2	DB 13,10," "
		DB 13,10,"PLEASE ENTER Y OR N ONLY."
		DB 13,10,"PRESS Y TO CONTINUE OR PRESS N IF YOU HAVE ANY CHANGE: $"
 WMSG0		DB 13,10," $"
 WMSG1  	DB "Your order is successful. $"
 WMSG2  	DB 13,10,"You can check the status in the status page. $"
 WMSG3  	DB 13,10,"Thank you for using our system. "
		DB 13,10," $"
 WMSG4		DB 13,10," "
		DB 13,10,"THANK YOU FOR USING OUR SYSTEM! $"
 WMSG5  	DB 13,10,"WISH YOU HAVE A GREAT DAY! $"
 WMSG6  	DB 13,10,"DO YOU WANT TO LOG UP? $"
 WMSG7  	DB 13,10,"PRESS Y TO LOG UP YOUR ACC: $"
 WMSG8  	DB 13,10,"NAME                      : $"
 WMSG9  	DB 13,10,"CONTACT NUMBER            : $"
 ICMSG  	DB 13,10,"IC NUMBER                 : $"
 WMSG10		DB 13,10,"NUMBER OF DAYS            : $"
 DMSG1		DB " DAYS$"
 WMSG11 	DB 13,10,"DISCOUNT                  : RM $"
 WMSG12 	DB 13,10,"TOTAL PAYMENT             : RM $"
 WMSG13 	DB 13,10,"PAYMENT STATUS            : PENDING$"
 WMSG14 	DB 13,10,"DATE                      : $"
 WMSG15 	DB 13,10,"TIME                      : $"
 WMSG16 	DB 13,10,"NUMBER OF PEOPLE          : $"
 NMSG1		DB " PAX$"
 WMSG17 	DB 13,10," "
		DB 13,10,"OFFICE NUMBER: 0123456789 $"
 WMSG18 	DB 13,10,"***PLEASE TAKE A SCREENSHOT OF THIS PAGE AND SHOW "
		DB 13,10,"TO OUR TICKET COUNTER BEFORE YOUR TRIP, THANKYOU. $"
 WMSG19		DB 13,10," "
		DB 13,10,"PRESS Y TO EXIT THIS PAGE: $"
 ERR    	DB 13,10,"INVALID INPUT! $"
 WOPT    	DB 0 
 SYMBOL1	DB ".$"
 SYMBOL2	DB "/$"
 OPT		DB 0
 SOPT		DB 0
 NUMBER		DB 0
 DAYS		DB 0
 DATE1		DB 0
 DATE2		DB 0
 DATE3		DB 0
 DATE4		DB 0
 DATE5		DB 0
 DATE6		DB 0
 TIME1		DB 0
 TIME2		DB 0
 TIME3		DB 0
 TIME4		DB 0
 DISCOUNT	DW 0
 QDISCOUNT1	DB 0
 QDISCOUNT2	DB 0
 RDISCOUNT1	DB 0
 RDISCOUNT2	DB 0
 HUNDRED	DB 100
 PRICE		DB 50
 TEN		DB 10
 FIVE		DB 5
 TWO		DB 2
 TTL1		DW 0
 TTL2		DW 0
 Q1		DB 0
 Q2		DB 0
 Q3		DB 0
 Q4		DB 0
 R1		DB 0
 R2		DB 0
 R3		DB 0
 R4		DB 0

 INAME           LABEL   BYTE
 SIGNINMAX    	 DB      11
 SIGNINACT    	 DB      ?
 INAMEDATA       DB      10 DUP ('$') 

 NNAME            LABEL    BYTE
 SIGNUPMAX        DB       11  
 SIGNUPACT        DB       ?
 NNAMEDATA        DB       10 DUP  ('$')

 FNAME         LABEL BYTE
 FNAMEMAX      DB    50
 FNAMEACT      DB    ?
 FNAMEDATA     DB    49 DUP ('$')

 OPTIONARRAY	LABEL	BYTE
 MAX1		DB	2
 ACT1		DB	?
 OPTIONDATA	DB	2 DUP (0)

 NUMBERARRAY	LABEL	BYTE
 MAX2		DB	2
 ACT2		DB	?
 NUMBERDATA	DB	2 DUP (0)


 DAYSARRAY	LABEL	BYTE
 MAX3		DB	2
 ACT3		DB	?
 DAYSDATA	DB	2 DUP (0)

.CODE

MAIN PROC
 MOV AX,@DATA
 MOV DS,AX

MAINP:
 MOV AH,00
 MOV AL,02
 INT 10H

 MOV AH,09H
 LEA DX,ML1
 INT 21H

 MOV AH,09H
 LEA DX,ML2
 INT 21H

 MOV AH,09H
 LEA DX,ML3
 INT 21H

 MOV AH,09H
 LEA DX,ML4
 INT 21H

 MOV AH,09H
 LEA DX,ML5
 INT 21H

 MOV AH,09H
 LEA DX,ML6
 INT 21H

 MOV AH,09H
 LEA DX,ML7
 INT 21H

 MOV AH,09H
 LEA DX,ML8
 INT 21H

 MOV AH,09H
 LEA DX,ML9
 INT 21H

 MOV AH,09H
 LEA DX,ML10
 INT 21H

TOPTION:
 MOV AH,09H
 LEA DX,USER1
 INT 21H

 MOV AH,09H
 LEA DX,USER2
 INT 21H

 MOV AH,09H
 LEA DX,USER3
 INT 21H

;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H

;TEXT COLOUT
 MOV AH,09H
 MOV BL,03H
 MOV CX,35
 INT 10H
 MOV DX,OFFSET SEL
 INT 21H

 MOV AH,01H
 INT 21H

 MOV TOPT,AL

 CMP TOPT,"1"		;if enter 1
 JE  SIGNIN
 CMP TOPT,"2"		;if enter 2
 JE  RETURNSP
 CMP TOPT,"3"		;if enter 3
 JE  EX
 JNE WRONG

EX:
 JMP EXIT

RETURNSP:
 JMP SIGNUP

WRONG:			;user enter not 1 or 2 or 3
;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H

;TEXT COLOUR FOR ERROR MESSAGE
 MOV AH,09H
 MOV BL,04H
 MOV CX,54
 INT 10H
 MOV DX,OFFSET INV
 INT 21H
 JMP TOPTION

SIGNIN:
 MOV AH,00
 MOV AL,02
 INT 10H
START:
;OUPUT STRING (MSG1)
 MOV AH,09H
 LEA DX,TMSG1
 INT 21H

;OUTPUT STRING (US1)
 MOV AH,09H
 LEA DX,US1
 INT 21H

;INPUT BYTE:0AH INTO INAME STORE INSIDE ARRAY
 MOV AH,0AH
 LEA DX,INAME
 INT 21H

;OUTPUT STRING (PS1)
 MOV AH,09H
 LEA DX,PS1
 INT 21H

;INPUT BYTE:07H INTO IPSW STORE INSIDE LOOP FOR SECURITY REASON
 MOV CX,8
 MOV SI,0
 GETPSW1:
 MOV AH,07H
 INT 21H
 MOV IPSW[SI],AL
 INC SI
 LOOP GETPSW1

;CLEAR AX,0000
  MOV AX,0

  MOV SI,0
  MOV DI,0
VER1:
 CMP SI,10
 JE  VER2
 JNE VNAME
 

VNAME:
 MOV AL,NNAMEDATA[SI]
 CMP AL,INAMEDATA[SI]
 JE  VERNAME
 JNE PRINTTERR

VERNAME:
 INC SI
 JMP VER1

START2:
 JMP START

VER2:  ;CHECK PASSWORD
 CMP DI,8
 JE GRANTED
 JNE VERPSW

VERPSW:
 MOV AL,NPSW[DI]
 CMP AL,IPSW[DI]
 JE  PRO2
 JNE PRINTTERR

PRO2:
 INC DI
 JMP VER2

GRANTED:
 MOV AH,09H
 LEA DX,ACC
 INT 21H
 JMP PIP

PRINTTERR:
;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 
;TEXT COLOUR
 MOV AH,09H
 MOV BL,04H
 MOV CX,14
 INT 10H
 MOV DX,OFFSET TERR
 INT 21H
 INC COUNT
 CMP COUNT,3
 JE DENIED
 JNE START2

DENIED:
 ;COLOUR CHANGE
 MOV AH,09H
 MOV BL,04H
 MOV CX,77
 INT 10H
 MOV DX,OFFSET DEN
 INT 21H
 JMP RETURNEX

 RETURNEX:
 JMP EXIT

;PERSONAL INFORMATION PAGE
PIP:
 ;CLEAR SCREEN
 MOV AX, 0600H
 MOV BH,07H
 MOV CX,0000H
 MOV DX,184FH
 INT 10H

 ;POSITION CURSUR
 MOV AH,02H
 MOV BH,00
 MOV DH,00
 MOV DL,15
 INT 10H

 PERSONAL:
 MOV AH,09H
 LEA DX,PER
 INT 21H

 MOV AH,09H
 LEA DX,WELMSG
 INT 21H

 NAMEA:
 MOV AH,09H
 LEA DX,FULN
 INT 21H

 MOV AH,0AH
 LEA DX,FNAME
 INT 21H

;--------VERLIDATION FOR FULL NAME, IC NUMBER, HANDPHONE NUMBER

 ;FULL NAME
 CMP FNAMEDATA,41H ;Letter A
 JGE CHKZ
 JL NALP

 CHKZ:
 CMP FNAMEDATA,5AH ;Letter Z
 JLE CHKS

 CHKS:
 CMP FNAMEDATA,61H ;Letter a
 JGE CHKSS

 CHKSS:
 CMP FNAMEDATA,7AH ;Letter z
 JLE IC
 JG NALP

 NALP:
 MOV AH,09H
 LEA DX,NOTNAME
 INT 21H
 JMP NAMEA
 

;IC NUMBER
IC:
 MOV AH,09H
 LEA DX,ICNUM
 INT 21H

 MOV CX,12
 MOV SI,0
 NUMIC:
 MOV AH,01H
 INT 21H
 INC SI
 MOV ICN[SI],AL
 LOOP NUMIC

 CMP ICN[SI],30H
 JGE CHKIC
 JL NOTIC

 CHKIC:
 CMP ICN[SI],39H
 JLE PHONE

 NOTIC:
 MOV AH,09H
 LEA DX,NOTNAME
 INT 21H
 JMP IC

 ;PHONE NUMBER
 PHONE:
 MOV AH,09H
 LEA DX,PHNUM
 INT 21H

 MOV CX,10
 MOV SI,0
NUMPH:
 MOV AH,01H
 INT 21H
 INC SI
 MOV PNUM[SI],AL
 LOOP NUMPH

 CMP PNUM[SI],30H
 JGE CHKPN
 JL NOTPN

 CHKPN:
 CMP PNUM[SI],39H
 JLE WGH

 NOTPN:
 MOV AH,09H
 LEA DX,NOTNAME
 INT 21H
 JMP PHONE


;MESSSAGE FOR CONFIRMATION AFTER USER FINISH INPUT FINISH
 WGH:
 MOV AH,09H
 LEA DX,CONFIRM
 INT 21H

 MOV AH,01H
 INT 21H

 MOV CON,AL
 
 CMP CON,'Y'
 JE RETURNP
 JNE THANKS

RETURNP:
JMP PERSONAL
 
 CMP CON,'y'
 JE RETURNP1
 JNE THANKS

RETURNP1:
JMP PERSONAL

THANKS:
 MOV AH,09H
 LEA DX,CONFIRM1
 INT 21H
 JMP OPTION

SIGNUP:
 MOV AH,00
 MOV AL,02
 INT 10H
 MOV AX,0

;OUTPUT STRING:09H (TMSG2)
 MOV AH,09H
 LEA DX,TMSG2
 INT 21H

;USER ENTER USERNAME
;------------------------------------------
PROMPT:
;OUTPUT STRING:09H (US2)
 MOV AH,09H
 LEA DX,US2
 INT 21H

;INPUT STRING FOR NEW USERNAME (0AH)
 MOV AH,0AH
 LEA DX,NNAME
 INT 21H

;conditional check

 CMP SIGNUPACT,10
 JE  SUCCESS
 JNE LMSG

LMSG:
;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 
;TEXT COLOUR
 MOV AH,09H
 MOV BL,0CH
 MOV CX,58
 INT 10H
 MOV DX,OFFSET LUSN
 INT 21H
 JMP PROMPT

SUCCESS:
;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H

;TEXT COLOUR
 MOV AH,09H
 MOV BL,0AH
 MOV CX,20
 INT 10H
 MOV DX,OFFSET SUSN
 INT 21H
 JMP PSW

PSW:
;OUTPUT STRING:09H (PS2)
 MOV AH,09H
 LEA DX,PS2
 INT 21H

;INPUT NEW PASSWORD USING LOOP (NPSW)
 MOV CX,8
 MOV SI,0
 GETPSW:
 MOV AH,07H
 INT 21H
 MOV NPSW[SI],AL
 INC SI
 LOOP GETPSW
 JMP CHKP

CHKP: 
CMP NPSW,8
 JE SUCCESS1

SUCCESS1:
;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H

;TEXT COLOUR
;SUCCESSFUL CREATED PASSWORD
 MOV AH,09H
 MOV BL,0AH
 MOV CX,26
 INT 10H
 MOV DX,OFFSET SCL
 INT 21H

;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H

;CALL NEW LINE
 MOV AH,02H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H
 MOV DL,13
 INT 21H
 MOV DL,10
 INT 21H

;TEXT COLOUR
;ASKING USER TO RENETER USERNAME AND PASSWORD AT MAIN PAGE
 MOV AH,09H
 MOV BL,05H
 MOV CX,66
 INT 10H
 MOV DX,OFFSET MP
 INT 21H
 
 MOV AH,09H
 LEA DX,ASK
 INT 21H

 MOV AH,01H
 INT 21H

 MOV ASK1,AL

 CMP ASK1,"Y"
 JE RETURNMP

 CMP ASK1,"y"
 JE  RETURNMP
 JNE GOEXIT

GOEXIT:
 JMP EXIT

RETURNMP:
 JMP MAINP

OPTION:
 MOV AH,00
 MOV AL,02
 INT 10H

;---OUTPUT STRING:09H(MENU)
 MOV AH,09H
 LEA DX,MENU
 INT 21H

 MOV AH,09H
 LEA DX,NEWLINE
 INT 21H

;---OUTPUT STRING:09H(INF)
 MOV AH,09H
 MOV BL,09H
 MOV CX,65
 INT 10H
 LEA DX,INF
 INT 21H

;---OUTPUT STRING:09H(MSG1)
 MOV AH,09H
 LEA DX,MSG1
 INT 21H

 MOV AH,0AH
 LEA DX,OPTIONARRAY
 INT 21H

JMP VAL1

;---VALIDATION

VAL1:
 CMP OPTIONDATA[0],"1"
 JE  NORMALPACKAGE
 CMP OPTIONDATA[0],"2"
 JE  FAMILYPACKAGE
 CMP OPTIONDATA[0],"3"
 JE  COUPLEPACKAGE
 CMP OPTIONDATA[0],"4"
 JE  STATUSPAGE
 CMP OPTIONDATA[0],"5"
 JE  JUMPEXIT
 JNE JUMPERROR1

JUMPEXIT:
 JMP EXITPAGE

JUMPERROR1:
 JMP ERROR1

NORMALPACKAGE:
 MOV AH,00
 MOV AL,02
 INT 10H
;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,NORMAL
 INT 21H

JMP DETAIL

FAMILYPACKAGE:
 MOV AH,00
 MOV AL,02
 INT 10H

;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,FAMILY
 INT 21H

JMP DETAIL

COUPLEPACKAGE:
 MOV AH,00
 MOV AL,02
 INT 10H
;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,COUPLE
 INT 21H

JMP DETAIL

STATUSPAGE:
 MOV AH,00
 MOV AL,02
 INT 10H
;-OUTPUT STRING:09H(WMSG8)(Name)
 MOV AH,09H
 LEA DX,WMSG8
 INT 21H

 MOV AH,09H
 LEA DX,FNAMEDATA
 INT 21H

;-OUTPUT STRING:09H(WMSG9)(Contact Number)
 MOV AH,09H
 LEA DX,WMSG9
 INT 21H

 MOV CX,10
 MOV SI,0
PRINTPN:
 INC SI
 MOV AH,02H
 MOV DL,PNUM[SI]
 INT 21H
LOOP PRINTPN

;-OUTPUT STRING:09H(ICMSG)(IC Number)
 MOV AH,09H
 LEA DX,ICMSG
 INT 21H

 MOV CX,12
 MOV SI,0
PRINTIC:
 INC SI
 MOV AH,02H
 MOV DL,ICN[SI]
 INT 21H
LOOP PRINTIC

;-OUTPUT STRING:09H(WMSG16)(NUMBER OF PAX)
 MOV AH,09H
 LEA DX,WMSG16
 INT 21H

;OUTPUT BYTE
 MOV AL,NUMBERDATA[0]
 MOV NUMBER,AL

 MOV AH,02H
 MOV DL,NUMBER
 INT 21H

 MOV AH,09H
 LEA DX,NMSG1
 INT 21H
 

;-OUTPUT STRING:09H(WMSG16)(NUMBER OF DAYS)
 MOV AH,09H
 LEA DX,WMSG10
 INT 21H

;OUTPUT BYTE
 MOV AL,DAYSDATA[0]
 MOV DAYS,AL

 MOV AH,02H
 MOV DL,DAYS
 INT 21H

 MOV AH,09H
 LEA DX,DMSG1
 INT 21H

;-OUTPUT STRING:09H(WMSG12)(Total Payment)
 MOV AH,09H
 LEA DX,WMSG12
 INT 21H

;OUTPUT BYTE
 MOV AH,02H
 MOV DL,Q2
 INT 21H

 MOV AH,02H
 MOV DL,R2
 INT 21H

 MOV AH,02H
 MOV DL,Q4
 INT 21H

 MOV AH,02H
 MOV DL,R4
 INT 21H


;-OUTPUT STRING:09H(WMSG11)(Discount)
 MOV AH,09H
 LEA DX,WMSG11
 INT 21H

;OUTPUT BYTE
 MOV AH,02H
 MOV DL,QDISCOUNT2
 INT 21H

 MOV AH,02H
 MOV DL,RDISCOUNT2
 INT 21H

 MOV AH,02H
 MOV DL,RDISCOUNT1
 INT 21H

;-OUTPUT STRING:09H(WMSG13)(Payment Status)
 MOV AH,09H
 LEA DX,WMSG13
 INT 21H

;OUTPUT BYTE

;-OUTPUT STRING:09H(WMSG14)(Date)
 MOV AH,09H
 LEA DX,WMSG14
 INT 21H

;OUTPUT BYTE
 MOV AH,02H
 MOV DL,DATE1
 INT 21H

 MOV AH,02H
 MOV DL,DATE2
 INT 21H

;---OUTPUT STRING;09H ("/")
 MOV AH,09H
 LEA DX,SYMBOL2
 INT 21H

 MOV AH,02H
 MOV DL,DATE3
 INT 21H

 MOV AH,02H
 MOV DL,DATE4
 INT 21H

;---OUTPUT STRING;09H ("/")
 MOV AH,09H
 LEA DX,SYMBOL2
 INT 21H

 MOV AH,02H
 MOV DL,DATE5
 INT 21H

 MOV AH,02H
 MOV DL,DATE6
 INT 21H

;-OUTPUT STRING:09H(WMSG15)(Time)
 MOV AH,09H
 LEA DX,WMSG15
 INT 21H

;OUTPUT BYTE
 MOV AH,02H
 MOV DL,TIME1
 INT 21H

 MOV AH,02H
 MOV DL,TIME2
 INT 21H

;OUTPUT BYTE
 MOV AH,02H
 MOV DL,TIME3
 INT 21H

 MOV AH,02H
 MOV DL,TIME4
 INT 21H

;-OUTPUT STRING:09H(WMSG17)
 MOV AH,09H
 LEA DX,WMSG17
 INT 21H

;-OUTPUT STRING:09H(WMSG18)
 MOV AH,09H
 LEA DX,WMSG18
 INT 21H

SERROR1:
;-OUTPUT STRING:09H(WMSG19)
 MOV AH,09H
 LEA DX,WMSG19
 INT 21H

;-INPUT BYTE:01H
 MOV AH,01H 
 INT 21H
 MOV SOPT,AL

JMP SCHK

SCHK:
 CMP SOPT,"Y"
 JE  JUMPOPTION
 JNE SERROR2

SERROR2:
 MOV AH,09H
 LEA DX,ERR
 INT 21H
 JMP SERROR1

EXITPAGE:
;-OUTPUT STRING:09H(WMSG4)
 MOV AH,09H
 LEA DX,WMSG4
 INT 21H
;-OUTPUT STRING:09H(WMSG5)
 MOV AH,09H
 LEA DX,WMSG5
 INT 21H
;-OUTPUT STRING:09H(WMSG6)
 MOV AH,09H
 LEA DX,WMSG6
 INT 21H
;-OUTPUT STRING:09H(WMSG7)
 MOV AH,09H
 LEA DX,WMSG7
 INT 21H

;-INPUT BYTE:01H
 MOV AH,01H 
 INT 21H
 MOV WOPT,AL

;-CHECK WHETHER TO EXIT OR NOT

CHK1:
 CMP WOPT,"Y"
 JE  JUMPMAINP
 CMP WOPT,"N"
 JE  JUMPOPTION
 JNE PRINTERR

JUMPMAINP:
 JMP MAINP

QUIT:
 JMP EXIT

JUMPOPTION:
 JMP OPTION

PRINTERR:
 MOV AH,09H
 LEA DX,ERR
 INT 21H
 JMP EXITPAGE

ERROR1:
;---OUTPUT STRING:09H
 MOV AH,09H
 LEA DX,ERRORMESSAGE1
 INT 21H
 JMP OPTION

DETAIL:
 JMP NUMBERMSG

NUMBERMSG:
 CMP OPTIONDATA[0],"1"
 JE  NORMALMSG
 CMP OPTIONDATA[0],"2"
 JE  FAMILYMSG
 CMP OPTIONDATA[0],"3"
 JE  COUPLEMSG

NORMALMSG:
;---OUTPUT STRING:09H
 MOV AH,09H
 LEA DX,MSG2
 INT 21H

 MOV AH,0AH
 LEA DX,NUMBERARRAY
 INT 21H

JMP VAL2

FAMILYMSG:
;---OUTPUT STRING:09H
 MOV AH,09H
 LEA DX,NMSG
 INT 21H

 MOV AH,0AH
 LEA DX,NUMBERARRAY
 INT 21H

JMP VAL2

COUPLEMSG:
;---OUTPUT STRING:09H
 MOV AH,09H
 LEA DX,MSG3
 INT 21H

 MOV AH,0AH
 LEA DX,NUMBERARRAY
 INT 21H

JMP VAL2

VAL2:
 CMP OPTIONDATA[0],"1"
 JE  VALNUMBER1
 CMP OPTIONDATA[0],"2"
 JE  VALNUMBER2
 CMP OPTIONDATA[0],"3"
 JE  VALNUMBER3

VALNUMBER1:
 CMP NUMBERDATA[0],"0"
 JE  ERRORNUMBER
 CMP NUMBERDATA[0],"8"
 JA  ERRORNUMBER
 JNA DAYSMSG

VALNUMBER2:
 CMP NUMBERDATA[0],"3"
 JL  ERRORNUMBER
 JNL VALNUMBER4

VALNUMBER3:
 CMP NUMBERDATA[0],"2"
 JE  DAYSMSG
 CMP NUMBERDATA[0],"4"
 JE  DAYSMSG
 CMP NUMBERDATA[0],"6"
 JE  DAYSMSG
 JNE ERRORNUMBER

VALNUMBER4:
 CMP NUMBERDATA[0],"6"
 JA  ERRORNUMBER
 JNA DAYSMSG

ERRORNUMBER:
 MOV AH,09H
 LEA DX,ERRORNUMBERMSG
 INT 21H
 JMP NUMBERMSG

DAYSMSG:
;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,MSG4
 INT 21H

 MOV AH,0AH
 LEA DX,DAYSARRAY
 INT 21H

VALDAYS:
 CMP DAYSDATA[0],"0"
 JE  ERRORDAYS
 CMP DAYSDATA[0],"7"
 JG  ERRORDAYS
 JNG DATEMSG

ERRORDAYS:
 MOV AH,09H
 LEA DX,ERRORDAYSMSG
 INT 21H
 JMP DAYSMSG

DATEMSG:
;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,MSG6
 INT 21H

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (DATE1)
 MOV DATE1,AL

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (DATE2)
 MOV DATE2,AL

;---OUTPUT STRING;09H ("/")
 MOV AH,09H
 LEA DX,SYMBOL2
 INT 21H

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (DATE3)
 MOV DATE3,AL

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (DATE4)
 MOV DATE4,AL


;---OUTPUT STRING;09H ("/")
 MOV AH,09H
 LEA DX,SYMBOL2
 INT 21H

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (DATE5)
 MOV DATE5,AL

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (DATE6)
 MOV DATE6,AL

JMP TIMEMSG

TIMEMSG:
;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,MSG7
 INT 21H

 MOV AH,01H
 INT 21H

 MOV TIME1,AL

 MOV AH,01H
 INT 21H

 MOV TIME2,AL

 MOV AH,01H
 INT 21H

 MOV TIME3,AL

 MOV AH,01H
 INT 21H

 MOV TIME4,AL

JMP VALTIME1

VALTIME1:
 CMP TIME1,"2"
 JG  ERRORTIME
 JNG VALTIME2

VALTIME2:
 CMP TIME3,"5"
 JG  ERRORTIME
 JNG PAYMENT

ERRORTIME:
 MOV AH,09H
 LEA DX,ERRORTIMEMSG
 INT 21H
 JMP TIMEMSG

PAYMENT:
;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,MSG8
 INT 21H

;---CALCULATION
 MOV AX,0
 MOV DISCOUNT,0
 MOV QDISCOUNT1,0
 MOV QDISCOUNT2,0
 MOV RDISCOUNT1,0
 MOV RDISCOUNT2,0
 SUB NUMBERDATA[0],30H
 SUB DAYSDATA[0],30H
 MOV AL,NUMBERDATA[0]	;AL=8
 MUL DAYSDATA[0]	;AX=56
 MOV TTL1,AX		;TTL1=56
 MOV AX,0
 MOV AX,TTL1		;AX=56
 MUL PRICE		;AX=2800
 MOV TTL1,AX		;TTL1=2800

 JMP VAL3

VAL3:
 CMP OPTIONDATA[0],"2"
 JE  DISCOUNTFAMILY
 CMP OPTIONDATA[0],"3"
 JE  DISCOUNTCOUPLE
 JNE JUMPCAL

DISCOUNTFAMILY:
 MOV AX,0
 MOV AX,TTL1		;AX=2800
 DIV TEN		;AX=280
 MOV DISCOUNT,AX	;FDISCOUNT=280
 MOV AX,0
 MOV AX,DISCOUNT	;AX=280
 DIV TEN		;AX=0028
 MOV QDISCOUNT1,AL	;QDISCOUNT1=28
 MOV RDISCOUNT1,AH	;RDISCOUNT2=00
 MOV AX,0
 MOV AL,QDISCOUNT1	;AX=28
 DIV TEN		;0802
 MOV QDISCOUNT2,AL	;QDISCOUNT2=02
 MOV RDISCOUNT2,AH	;RDISCOUNT2=08

JMP CAL

JUMPCAL:
 JMP CAL
 
DISCOUNTCOUPLE:
 MOV AX,0
 MOV AX,TTL1		;AX=2800
 DIV TEN		;AX=280
 MOV DISCOUNT,AX	;CDISCOUNT=280
 MOV AX,0
 MOV AX,DISCOUNT	;AX=280
 MUL TWO		;AX=560
 MOV DISCOUNT,AX	;CDISCOUNT1=560
 MOV AX,0
 MOV AX,DISCOUNT	;AX=560
 DIV TEN		;AX=0056
 MOV QDISCOUNT1,AL	;QDISCOUNT1=56
 MOV RDISCOUNT1,AH	;RDISCOUNT2=00
 MOV AX,0
 MOV AL,QDISCOUNT1	;AX=56
 DIV TEN		;0605
 MOV QDISCOUNT2,AL	;QDISCOUNT2=05
 MOV RDISCOUNT2,AH	;RDISCOUNT2=06
 
JMP CAL
 
CAL:
 MOV AX,0
 MOV AX,TTL1		;AX=2800,1750
 SUB AX,DISCOUNT	;AX=2800,1750
 MOV TTL1,AX		;TTL1=2800,1750
 MOV AX,0
 MOV AX,TTL1		;AX=2800,1750
 DIV HUNDRED		;AX=0028,5017
 MOV Q1,AL		;Q1=28,17
 MOV R1,AH		;R1=00,50
 MOV AX,0
 MOV AL,Q1		;AX=28,17
 DIV TEN		;AX=0802,0701
 MOV Q2,AL		;Q2=02,01
 MOV R2,AH		;R2=08,07
 MOV AX,0
 MOV AL,Q2		;AL=02,01
 DIV TEN		;AX=0200,0100
 MOV Q3,AL		;Q3=00,00
 MOV R3,AH		;R3=02,01
 MOV AX,0
 MOV AL,R1		;AL=00,50
 DIV TEN		;AX=0000,0005
 MOV Q4,AL		;Q4=00,05
 MOV R4,AH		;R4=00,00
 ADD Q1,30H
 ADD Q2,30H
 ADD Q3,30H
 ADD Q4,30H
 ADD R1,30H	
 ADD R2,30H
 ADD R3,30H
 ADD R4,30H
 ADD NUMBERDATA[0],30H
 ADD DAYSDATA[0],30H
 ADD QDISCOUNT2,30H
 ADD RDISCOUNT2,30H
 ADD RDISCOUNT1,30H

 MOV AH,02H
 MOV DL,Q2
 INT 21H

 MOV AH,02H
 MOV DL,R2
 INT 21H

 MOV AH,02H
 MOV DL,Q4
 INT 21H

 MOV AH,02H
 MOV DL,R4
 INT 21H

JMP CONTINUEMSG

CONTINUEMSG:
;-OUTPUT STRING:09H(WMSG0)
 MOV AH,09H
 LEA DX,WMSG0
 INT 21H

;-OUTPUT STRING:09H(WMSG1)
 MOV AH,09H
 MOV BL,02H
 MOV CX,25
 INT 10H
 LEA DX,WMSG1
 INT 21H

;-OUTPUT STRING:09H(WMSG2)
 MOV AH,09H
 LEA DX,WMSG2
 INT 21H

;-OUTPUT STRING:09H(WMSG3)
 MOV AH,09H
 LEA DX,WMSG3
 INT 21H

;---OUTPUT STRING;09H
 MOV AH,09H
 LEA DX,MSG9
 INT 21H

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (OPT)
 MOV OPT,AL

JMP VAL4

;---VALIDATION
VAL4:
 CMP OPTIONDATA[0],"1"
 JE  VALNORMAL
 CMP OPTIONDATA[0],"2"
 JE  VALFAMILY
 CMP OPTIONDATA[0],"3"
 JE  VALCOUPLE
 JNE EXIT

VALNORMAL:
 CMP OPT,"Y"
 JE  THANKYOU
 CMP OPT,"N"
 JE  RETURNNORMAL
 JNE ERRORMSG

RETURNNORMAL:
 JMP NORMALPACKAGE

VALFAMILY:
 CMP OPT,"Y"
 JE  THANKYOU
 CMP OPT,"N"
 JE  RETURNFAMILY
 JNE ERRORMSG

RETURNFAMILY:
 JMP FAMILYPACKAGE

VALCOUPLE:
 CMP OPT,"Y"
 JE  THANKYOU
 CMP OPT,"N"
 JE  RETURNCOUPLE
 JNE ERRORMSG

RETURNCOUPLE:
 JMP COUPLEPACKAGE

THANKYOU: 
 JMP RETURNOPTION

RETURNOPTION:
 JMP OPTION

ERRORMSG:
 MOV AH,09H
 LEA DX,ERRORMESSAGE2
 INT 21H

;---INPUT BYTE:01H
 MOV AH,01H
 INT 21H

;---MOVE INPUT BYTE (AL) INTO VARIABLE (OPT)
 MOV OPT,AL
JMP VAL4

EXIT:
 MOV AH,4CH
 INT 21H
MAIN ENDP
 END MAIN